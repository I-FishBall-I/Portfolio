<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>HTML5 Canvas</title>
    <link rel="icon" href="https://fav.farm/ðŸ”¥" />
    <style>
      body {
        margin: 0;
        background: #21252980;
      }
    </style>
  </head>

  <body>
    <canvas id="draw" width="800" height="800"></canvas>
    <script>
      // beginPath()  ç”¢ç”Ÿä¸€æ¢è·¯å¾‘
      // moveTo(X-Start, Y-Start)  èµ·å§‹åº§æ¨™
      // lineTo(X-End, Y-End)  çµ‚é»žåº§æ¨™
      // lineWidth = number  ç·šçš„å¯¬åº¦
      // lineCap =  'butt åˆ‡å¹³' 'round åœ“å½¢'  'square æ–¹å½¢'  ç«¯é»žæ¨£å¼
      // lineJoin = 'bevel æ–œè§’' 'round åœ“å½¢' 'miter å°–è§’'  äº¤é»žæ¨£å¼
      // strokeStyle = color  ç·šæ¢é¡è‰²
      // stroke()  ç¹ªè£½è·¯å¾‘
      const canves = document.querySelector("#draw");
      const screen = canves.getContext("2d");

      canves.width = window.innerWidth;
      canves.height = window.innerHeight;

      canves.addEventListener("mousedown", checkPosition);
      canves.addEventListener("mouseup", removePosition);
      //ç²å–æ»‘é¼ ä½ç½®
      function checkPosition(e) {
        x = e.offsetX;
        y = e.offsetY;
        canves.addEventListener("mousemove", draw);
      }
      //ç•¶æ»‘é¼ æ”¾é–‹æ™‚ç§»é™¤äº‹ä»¶åœæ­¢ç•«ç•«
      function removePosition(e) {
        canves.removeEventListener("mousemove", draw);
      }
      let hue = 0,
        bold = 0,
        turn = true;

      function draw(e) {
        let newX = e.offsetX,
          newY = e.offsetY;

        screen.beginPath();
        screen.moveTo(x, y); //èµ·å§‹åº§æ¨™
        screen.lineTo(newX, newY); //çµ‚é»žåº§æ¨™
        screen.lineWidth = bold;
        screen.lineCap = "round";
        screen.lineJoin = "round";
        screen.strokeStyle = `hsl(${hue}, 100%, 50%)`;
        screen.stroke(); //ç¹ªè£½è·¯å¾‘
        x = e.offsetX;
        y = e.offsetY;
        hue++;

        if (bold > 100 || bold < 0) {
          turn = !turn;
        }
        turn ? bold++ : bold--;
      }
    </script>
  </body>
</html>
